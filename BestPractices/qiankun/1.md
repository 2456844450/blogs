# 微前端实战 - 基于 qiankun 的最佳实践

## 引言

本文是针对微前端框架 `qiankun` 的实战教程，此前已有 [qiankun 源码解读](https://segmentfault.com/a/1190000022275991)，该文章也得到了官方大大的一定认可。（见下图）

![micro-practice](http://shadows-mall.oss-cn-shenzhen.aliyuncs.com/images/blogs/qiankun_practice/1.png)

### 什么是微前端？

在本教程开始前，我们先来了解一下什么是 `微前端`。

`微前端` 是一种类似于微服务的架构，它将微服务的理念应用于浏览器端，即将单页面前端应用由单一的单体应用转变为多个小型前端应用聚合为一的应用。各个前端应用还可以独立开发、独立部署。同时，它们也可以在共享组件的同时进行并行开发——这些组件可以通过 `NPM` 或者 `Git Tag、Git Submodule` 来管理。

[`qiankun（乾坤）`](https://github.com/umijs/qiankun) 就是一款由蚂蚁金服推出的比较成熟的微前端框架，基于 [`single-spa`](https://github.com/single-spa/single-spa) 进行二次开发，用于将 Web 应用由单一的单体应用转变为多个小型前端应用聚合为一的应用。（见下图）

![qiankun](http://shadows-mall.oss-cn-shenzhen.aliyuncs.com/images/blogs/qiankun/40.png)

### 什么情况需要用到微前端吗？

第一，传统的云控制台应用，几乎都会面临业务快速发展之后，单体应用进化成巨石应用的问题。我们要如何维护一个巨无霸中台应用？

第二，你的团队可能会有多个业务应用，这些业务同时服务于一个大平台。当用户在这个大平台上使用这些业务的时候，每当切换系统时，页面都会刷新，体验很差；在开发层面，多个业务有很多重复逻辑/组件，维护成本很高。如何解决这个问题？

如果有遇到类似的问题，那么就可以考虑使用微前端架构。

### 微前端架构有哪些优点？

`应用自治`：子应用仓库独立，前后端可独立开发，部署完成后主框架自动完成同步更新。

技术栈无关：主框架不限制接入应用的技术栈，子应用具备完全自主权。

单一职责：每个前端应用可以只关注于自己所需要完成的功能。

独立运行时：每个子应用之间状态隔离，运行时状态不共享。